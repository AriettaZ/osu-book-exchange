<% provide(title: "My Offers") %>
<h1>My Offers</h1>
<p>You have posted <%= @offers.length %> offers in total.</p>
<p>You can see all of your offers below. They are sorted by their status.
   An active offer is listed on the book exchange, but currently has no purchase contract.
   Pending offers are on the book exchange listing and have an outstanding purchase contract that
   is waiting to be signed by you or the buyer. Closed offers were purchased and removed
   from the book exchange listing. Offers that are not yet on the book exchange list are drafts.
</p>

<br>
<div id="offer-btn-container" style="text-align:center">
  <button id="a-btn" style="padding:30px">See Active Offers</button>
  <button id="p-btn" style="padding:30px">See Pending Offers</button>
  <button id="c-btn" style="padding:30px">See Closed Offers</button>
  <button id="d-btn" style="padding:30px">See Draft Offers</button>
</div>
<br>

<script>
  $("document").ready(function(){
    // Create the basic call object
    var call_obj = {
      url: "",
      dataType: "html",
      method: "GET",
    }
    // Fill in the url based on button click
    $("#a-btn").click(function(){
      call_obj.url = "ajax/a_offer"
      // Get data from server and fill in current page
      $.ajax(call_obj).done(function(data){
        $("#main-content").html(data);
      });
    });
    $("#p-btn").click(function(){
      call_obj.url = "ajax/p_offer"
      // Get data from server and fill in current page
      $.ajax(call_obj).done(function(data){
        $("#main-content").html(data);
      });
    });
    $("#c-btn").click(function(){
      call_obj.url = "ajax/c_offer"
      // Get data from server and fill in current page
      $.ajax(call_obj).done(function(data){
        $("#main-content").html(data);
      });
    });
    $("#d-btn").click(function(){
      call_obj.url = "ajax/d_offer"
      // Get data from server and fill in current page
      $.ajax(call_obj).done(function(data){
        $("#main-content").html(data);
      });
    });

  });
</script>



<div id="main-content">
<!-- AJAX will fill this with the correct table -->
</div>

<hr>
<%= render "links" %>
<hr>
